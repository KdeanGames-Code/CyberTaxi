@startuml
!define RECTANGLE class
skinparam monochrome true

RECTANGLE CyberMain {
  - isOpen : boolean
  - position : { x: number; y: number }
  - isLoggedIn : boolean
  - showLogin : boolean
  - showTestWindow : boolean
  + handleTaxiClick(event: React.MouseEvent)
  + handleItemSelect(action: string)
}

RECTANGLE apiConfig {
  + API_CONFIG : { BASE_URL: string }
}

RECTANGLE CyberError {
  - message : string
  + constructor(message: string)
  + toString() : string
}

RECTANGLE ErrorBoundary {
  - hasError : boolean
  + getDerivedStateFromError(error: Error) : { hasError: boolean }
  + componentDidCatch(error: Error, info: React.ErrorInfo)
}

RECTANGLE CyberContext {
  - isLoggedIn : boolean
  - username : string | null
  - setAuth : (loggedIn: boolean, username?: string) => void
  + CyberProvider(props: { children: ReactNode }) : JSX.Element
  + useCyber() : CyberState
}

RECTANGLE TestContext {
  - value : string
  + TestProvider(props: { children: ReactNode }) : JSX.Element
  + useTest() : TestState
}

RECTANGLE MenuBar {
  + onTaxiClick : (e: React.MouseEvent) => void
}

RECTANGLE TaxiMenu {
  - isOpen : boolean
  - position : { x: number; y: number }
  - isLoggedIn : boolean
  + onClose() : void
  + onItemSelect(action: string) : void
}

RECTANGLE BaseWindow {
  - id : string
  - title : ReactNode
  - isResizable : boolean
  - isDraggable : boolean
  - style : CSSProperties
  - initialPosition : { top: number; left: number }
  - defaultWidth : number
  - defaultHeight : number
  - minWidth : number
  - maxHeight : number
  - zIndexBase : number
  + onClose() : void
}

RECTANGLE LoginForm {
  - formMode : "login" | "register"
  - formData : { username: string; email: string; password: string }
  + handleInputChange(event: React.ChangeEvent<HTMLInputElement>)
  + toggleMode()
}

CyberMain --> MenuBar : contains
CyberMain --> TaxiMenu : contains
CyberMain --> LoginForm : contains
CyberMain --> BaseWindow : contains (for test)
CyberMain --> CyberContext : uses
CyberMain --> TestContext : uses
ErrorBoundary --> CyberError : uses
CyberContext --> apiConfig : uses (future)
TestContext --> apiConfig : uses (future)
CyberMain --> ErrorBoundary : wrapped by
LoginForm --> BaseWindow : extends

@enduml